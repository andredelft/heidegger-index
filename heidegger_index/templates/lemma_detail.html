{% extends '_site_base.html' %}

{% block head_title %}{{ lemma.value }}{% endblock head_title %}

{% block body %}
{% include '_home_button.html' %}

<h1 class="clear-right pb-8 text-5xl font-semibold dark:text-white{% if lemma.type == "w" %} italic{% endif %}">{{ lemma }}</h1>

{% if lemma.type == "w" and lemma.author %}
<div class="pb-8 pl-4 {{ body_text }}">
  Author: <a href="{% url 'index:lemma-detail' lemma.author.slug %}" class="{{ hidden_link_decoration }}">{{ lemma.author }}</a>
</div>
{% endif %}

{% if lemma.type == "w" and lemma.perseus_content %}
<div class="{{ source_text }}">
  <p class="pl-4">
    {{ lemma.perseus_content }}
  </p>
  <p class="text-lg text-right">
  Source: <a 
    href="{ 'https://scaife.perseus.org/reader/' }{{ lemma.urn | safe }}" 
    title="Read full text of {{ lemma.value }} on Perseus"
    target="_blank" rel="noopener noreferrer"
    class="{{ hidden_link_decoration }}"
    >
    <cite>Perseus Digital Library</cite>
    </a>
  </p>
</div>
{% endif %}

{% if lemma.description %}
<div class="{{ description_prose }} mb-8">
  {{ lemma.description | safe }}
</div>
{% endif %}

{% include '_group_by_work.html' with ref_list=lemma.pagereference_set.all %}

{% if works %}
{% include '_lemma_list.html' with lemma_list=works title="Works by "|add:author_short %}
{% endif %}

{% for child in children %}
  <h2 class="pt-8 pb-4 text-3xl font-semibold dark:text-white" id="{{ child.slug }}">{{ child }}</h2>
  {% if child.description %}
  <div class="{{ description_prose }} mb-8">
    {{ child.description | safe }}
  </div>
  {% endif %}
  {% include '_group_by_work.html' with ref_list=child.pagereference_set.all %}
{% endfor %}

{% if related %}
{% include '_lemma_list.html' with lemma_list=related title="Related" %}
{% endif %}

{% if lemma.type and lemma.urn and not lemma.perseux_content %}
<div>
  <p class="mt-12 text-lg">
  <a 
  href="{ 'https://scaife.perseus.org/reader/' }{{ lemma.urn | safe }}" 
  title="View {{ lemma.value }} on Perseus"
  target="_blank" rel="noopener noreferrer"
  class="{{ hidden_link_decoration }}"
  >
  {% if lemma.type == "w" %}
  Read full text of <em>{{ lemma.value }}</em> on <cite>Perseus Digital Library</cite>
  {% elif lemma.type == "p" %}
  Read works of {{ lemma.value }} on <cite>Perseus Digital Library</cite>
  {% endif %}
  </a>
  </p>
</div>
{% endif %}
{% endblock body %}
